<section class="container wrap">
  <div class="col-12 md:col-6 justify-content-center align-items-center m-auto">
    <p-dropdown
      [options]="productsChoose"
      [(ngModel)]="selectedProduct"
      optionLabel="name"
      placeholder="Select Product"
      styleClass="w-full"
      [autoOptionFocus]="false"
      (onChange)="chooseProduct($event)"
    />
  </div>
  <div class="col-12 md:col-6 justify-content-center align-items-center m-auto">
    <p-carousel
      [value]="banners"
      [numVisible]="1"
      [numScroll]="1"
      [circular]="true"
      [responsiveOptions]="responsiveOptions"
      [autoplayInterval]="3000"
    >
      <ng-template let-product pTemplate="item">
        <div>
          <div class="mb-3">
            <div class="relative mx-auto">
              <img
                src="../../../../../assets/img/ads/{{ product.image }}"
                [alt]="product.name"
                class="w-full border-round"
              />
            </div>
            <h3 class="p-white text-center">{{ product.name }}</h3>
          </div>
        </div>
      </ng-template>
    </p-carousel>
  </div>

  <!-- <div style="text-align: center; margin-bottom: 20px">
    <button (click)="addItem()">Add Item</button>
  </div>

  <div class="boundary-container">
    <div class="item-container" #boundary>
      <app-drag-resize
        *ngFor="let item of items; let i = index"
        [rotation]="item.rotation"
        [boundary]="boundary"
        [x]="item.x"
        [y]="item.y"
        (delete)="deleteItem(i)"
        (dragEnd)="updatePosition(i, $event)"
        (rotationChange)="updateRotation(i, $event)"
      ></app-drag-resize>
    </div>
  </div> -->

  <div class="item-info" *ngFor="let item of items; let i = index">
    <p>
      Item {{ i + 1 }} - Rotation: {{ item.rotation }} degrees, Position: ({{
        item.x
      }}, {{ item.y }})
    </p>
  </div>

  <div *ngIf="selectedProduct.code == 'TS'" id="ts">
    <div id="tshirt" #ds class="mt-30 p-2">
      <div #ds class="flex justify-content-between">
        <i
          class="mb-3 pi pi-th-large text-2xl text-color-secondary box"
          (click)="templatePanels($event)"
        ></i>
        <i
          class="mb-3 pi pi-cog text-2xl text-color-secondary box"
          (click)="settingsPanels($event)"
        ></i>
      </div>
      <div
        class="flex gap-2 justify-content-center"
        style="
          flex-direction: column;
          align-items: center;
          top: 300px;
          position: relative;
          z-index: 100;
          right: -152px;
        "
      >
        <span (click)="editPanel.toggle($event); openEditPanel()"
          ><i class="mb-3 pi pi-pencil text-2xl text-color-secondary"></i
        ></span>
        <!-- <span (click)="generatePDF()"
          ><i
            class="mb-3 pi pi-download text-2xl text-color-secondary cursor-pointer"
          ></i
        ></span> -->
      </div>
      <div
        class="flex flex-column justify-content-center align-items-center mt-4 relative"
      >
        <i class="click-on">To add text click on Edit icon</i>
        <div class="relative" #printAsPdf>
          <img
            src="../../../../../assets/img/tee/{{ order.pcolor }}.png"
            height="300"
          />

          <div *ngFor="let t of selectedTemplate.data" class="z-1">
            @if(t.type=="1"){

            <span
              [ngClass]="selectedTemplate.tName == '01' ? order.pattern : ''"
              [ngStyle]="{
                position: 'absolute',
                top: t.tTop + 'px',
                left: t.tLeft + 'px',
                background: 'transparent',
                border: '1px dashed rgb(46 46 46)',
                color: t.color,
                'font-size': t.size + 'px',
                'font-weight': t.weight,
                width: t.tWidth + 'px',
                opacity: '0.7',
                'font-family': t.font,
                'letter-spacing': t.space + 'px',
                'text-align': 'center',
                height: t.height + 'px',
                overflow: 'hidden',
                'word-wrap': t.wb
              }"
              >{{ order.text1 }}</span
            >
            } @if(t.type=="2"){
            <span
              [ngClass]="selectedTemplate.tName == '01' ? order.pattern : ''"
              [ngStyle]="{
                position: 'absolute',
                top: t.tTop + 'px',
                left: t.tLeft + 'px',
                background: 'transparent',
                border: '1px dashed rgb(46 46 46)',
                color: t.color,
                'font-size': t.size + 'px',
                'font-weight': t.weight,
                width: t.tWidth + 'px',
                opacity: '0.7',
                'font-family': t.font,
                'letter-spacing': t.space + 'px',
                'text-align': 'center',
                height: t.height + 'px',
                overflow: 'hidden',
                'word-wrap': t.wb
              }"
              >{{ order.text2 }}</span
            >
            } @if(t.type=="3"){
            <span
              [ngClass]="selectedTemplate.tName == '01' ? order.pattern : ''"
              [ngStyle]="{
                position: 'absolute',
                top: t.tTop + 'px',
                left: t.tLeft + 'px',
                background: 'transparent',
                border: '1px dashed rgb(46 46 46)',
                color: t.color,
                'font-size': t.size + 'px',
                'font-weight': t.weight,
                width: t.tWidth + 'px',
                opacity: '0.7',
                resize: 'none',
                'font-family': t.font,
                overflow: 'hidden',
                height: t.height + 'px',
                'letter-spacing': t.space + 'px',
                'text-align': 'center',
                'word-wrap': t.wb
              }"
              >{{ order.text1 }}
            </span>
            } @if(t.type=="4"){
            <span
              [ngClass]="selectedTemplate.tName == '01' ? order.pattern : ''"
              [ngStyle]="{
                position: 'absolute',
                top: t.tTop + 'px',
                left: t.tLeft + 'px',
                background: 'transparent',
                border: '1px dashed rgb(46 46 46)',
                color: t.color,
                'font-size': t.size + 'px',
                'font-weight': t.weight,
                width: t.tWidth + 'px',
                opacity: '0.7',
                'font-family': t.font,
                'letter-spacing': t.space + 'px',
                'text-align': 'center',
                height: t.height + 'px',
                overflow: 'hidden',
                'word-wrap': t.wb
              }"
              >{{ order.text1 }}</span
            >
            }
          </div>
        </div>
        <div class="relative">
          <button
            pButton
            pRipple
            (click)="op.toggle($event); setOrder()"
            label="Buy Now"
            class="p-button-primary w-full text-center mt-5 block"
          ></button>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="selectedProduct.code == 'HD'" id="hd" class="text-center mt-30">
    <div id="placeholder" #ds class="mt-30 p-2">
      <div #ds class="flex justify-content-between">
        <i
          class="mb-3 pi pi-th-large text-2xl text-color-secondary box"
          (click)="templatePanels($event)"
        ></i>
        <i
          class="mb-3 pi pi-cog text-2xl text-color-secondary box"
          (click)="settingsPanels($event)"
        ></i>
      </div>
      <div
        class="flex gap-2 justify-content-center"
        style="
          flex-direction: column;
          align-items: center;
          top: 300px;
          position: relative;
          z-index: 100;
          right: -152px;
        "
      >
        <span (click)="editPanel.toggle($event); openEditPanel()"
          ><i class="mb-3 pi pi-pencil text-2xl text-color-secondary"></i
        ></span>
        <!-- <span (click)="generatePDF()"
          ><i
            class="mb-3 pi pi-download text-2xl text-color-secondary cursor-pointer"
          ></i
        ></span> -->
      </div>
      <div
        class="flex flex-column justify-content-center align-items-center mt-4 relative print-as-pdf"
      >
        <i class="click-on">To add text click on Edit icon</i>
        <div class="relative" #printAsPdf>
          <p
            style="
              color: #fff;
              font-family: backtoschool;
              position: relative;
              top: 200px;
              letter-spacing: 4px;
            "
          ></p>
          <img
            src="../../../../../assets/img/hoodie/{{ order.pcolor }}.png"
            height="300"
          />

          <div *ngFor="let t of selectedTemplate.data" class="z-1">
            @if(t.type=="1"){

            <span
              [ngClass]="selectedTemplate.tName == '01' ? order.pattern : ''"
              [ngStyle]="{
                position: 'absolute',
                top: t.top + 'px',
                left: t.left + 'px',
                background: 'transparent',
                border: '1px dashed rgb(46 46 46)',
                color: t.color,
                'font-size': t.size + 'px',
                'font-weight': t.weight,
                width: t.width + 'px',
                opacity: '0.7',
                'font-family': t.font,
                'letter-spacing': t.space + 'px',
                'text-align': 'center',
                height: t.height + 'px',
                overflow: 'hidden',
                'word-wrap': t.wb
              }"
              >{{ order.text1 }}</span
            >
            <!-- <input
              type="text"
              value="1"
              #myinput
              maxlength="{{ t.max }}"
              [ngClass]="selectedTemplate.tName == '01' ? order.pattern : ''"
              [(ngModel)]="t.text"
              
            /> -->
            } @if(t.type=="2"){
            <span
              [ngClass]="selectedTemplate.tName == '01' ? order.pattern : ''"
              [ngStyle]="{
                position: 'absolute',
                top: t.top + 'px',
                left: t.left + 'px',
                background: 'transparent',
                border: '1px dashed rgb(46 46 46)',
                color: t.color,
                'font-size': t.size + 'px',
                'font-weight': t.weight,
                width: t.width + 'px',
                opacity: '0.7',
                'font-family': t.font,
                'letter-spacing': t.space + 'px',
                'text-align': 'center',
                height: t.height + 'px',
                overflow: 'hidden',
                'word-wrap': t.wb
              }"
              >{{ order.text2 }}</span
            >

            } @if(t.type=="3"){
            <span
              [ngClass]="selectedTemplate.tName == '01' ? order.pattern : ''"
              [ngStyle]="{
                position: 'absolute',
                top: t.top + 'px',
                left: t.left + 'px',
                background: 'transparent',
                border: '1px dashed rgb(46 46 46)',
                color: t.color,
                'font-size': t.size + 'px',
                'font-weight': t.weight,
                width: t.width + 'px',
                opacity: '0.7',
                'font-family': t.font,
                'letter-spacing': t.space + 'px',
                'text-align': 'center',
                height: t.height + 'px',
                overflow: 'hidden',
                'word-wrap': t.wb
              }"
              >{{ order.text1 }}</span
            >
            } @if(t.type=="4"){
            <input
              type="text"
              value="4"
              [ngClass]="selectedTemplate.tName == '01' ? order.pattern : ''"
              [(ngModel)]="t.text"
              [ngStyle]="{
                position: 'absolute',
                top: t.top + 'px',
                left: t.left + 'px',
                background: 'transparent',
                border: '1px dashed rgb(46 46 46)',
                color: t.color,
                'font-size': t.size + 'px',
                'font-weight': t.weight,
                width: t.width + 'px',
                opacity: '0.7',
                'font-family': t.font,
                'letter-spacing': t.space + 'px',
                'text-align': 'center',
                height: t.height + 'px',
                overflow: 'hidden',
                'word-wrap': t.wb
              }"
            />
            }
          </div>
          <!-- <h2
            class="selectedPattern"
            [ngClass]="order.pattern"
            [ngStyle]="getStyle()"
          >
            <span [ngClass]="getSpace()">{{ order.text }}</span>
          </h2> -->
        </div>
        <div class="relative">
          <button
            pButton
            pRipple
            label="Buy Now"
            (click)="op.toggle($event); setOrder()"
            class="p-button-primary w-full text-center mt-5 block"
          ></button>
        </div>
      </div>
    </div>
  </div>
  <div id="mg" *ngIf="selectedProduct.code == 'MG'" class="text-center mt-10">
    <!-- <input [(ngModel)]="imageURL" placeholder="URL to load image" type="text" />
    <br />
    <br />
    <button (click)="rotateLeft()">Rotate left</button>
    <button (click)="rotateRight()">Rotate right</button>
    <button (click)="flipHorizontal()">Flip horizontal</button>
    <button (click)="flipVertical()">Flip vertical</button>
    <br />
    <br />
    <button (click)="toggleContainWithinAspectRatio()">
      {{
        containWithinAspectRatio
          ? "Fill Aspect Ratio"
          : "Contain Within Aspect Ratio"
      }}
    </button>
    <button (click)="toggleAspectRatio()">
      Aspect ratio: {{ aspectRatio }}
    </button>
    <button (click)="resetImage()">Reset image</button>
    <br />
    <br />
    <input
      [(ngModel)]="rotation"
      placeholder="Rotation"
      type="number"
      (ngModelChange)="updateRotation()"
    />
    <button (click)="zoomOut()">Zoom -</button>
    <button (click)="zoomIn()">Zoom +</button>
    <br />
    <br />
    <button (click)="moveLeft()">move left</button>
    <button (click)="moveRight()">move right</button>

    <button (click)="moveTop()">move top</button>
    <button (click)="moveBottom()">move bottom</button>
    <br />
    <br />
    <button (click)="allowMoveImage = !allowMoveImage">
      {{ allowMoveImage ? "Disable" : "Enable" }} image panning
    </button>
    <button (click)="hidden = !hidden">{{ hidden ? "Show" : "Hide" }}</button>
    <br /> -->
    <div class="flex justify-content-end">
      <!-- <span (click)="generatePDF()"
        ><i
          class="mb-3 pi pi-download text-2xl text-color-secondary cursor-pointer absolute right-20 animate__animated animate__bounce animate__slower animate__infinite infinite"
        ></i
      ></span> -->
    </div>
    <div class="relative h-300 grid-center mt-8">
      @if(rotateMugDeg == 2) {
      <div class="left-view relative flex-1">
        <div class="mask mug">
          <img
            [src]="croppedImage"
            [style.border]="croppedImage ? '1px solid black' : 'none'"
          />
        </div>
        <img
          class="mug-placeholder"
          src="../../../../../assets/img/mug/{{ order.pcolor + '_left' }}.png"
          height="300"
        />
      </div>
      } @if(rotateMugDeg == 1) {
      <div class="center-view relative flex-1">
        <div class="mask mug">
          <img
            [src]="croppedImage"
            [style.border]="croppedImage ? '1px solid black' : 'none'"
          />
        </div>
        <img
          class="mug-placeholder"
          src="../../../../../assets/img/mug/{{ order.pcolor + '_center' }}.png"
          height="300"
        />
      </div>
      } @if(rotateMugDeg == 0) {
      <div class="right-view relative flex-1">
        <div class="mask mug">
          <img
            [src]="croppedImage"
            [style.border]="croppedImage ? '1px solid black' : 'none'"
          />
        </div>
        <img
          class="mug-placeholder"
          src="../../../../../assets/img/mug/{{ order.pcolor }}.png"
          height="300"
        />
      </div>
      }

      <div class="cropped">
        <div #printAsPdf>
          <h6 class="opacity-0">mmcraz</h6>
          <h5 class="opacity-0">Final Product Preview</h5>
          <img
            class="cropped-img"
            [src]="croppedImage"
            [style.border]="croppedImage ? '1px solid black' : 'none'"
          />
          <img
            class="final-view opacity-0"
            src="../../../../../assets/img/mug/final_view.png"
            alt="mug"
          />
        </div>
      </div>

      <i
        class="mb-3 pi pi-sync text-2xl text-color-secondary absolute h-300 top-0 right-20 z-99"
        (click)="rotateMug()"
      ></i>
    </div>

    <div class="file-input-container mb-3 relative mt-3">
      <label for="file-upload" class="custom-file-upload"> Upload Photo </label>
      <input
        id="file-upload"
        type="file"
        accept="image/*"
        (change)="fileChangeEvent($event)"
      />
    </div>

    <div class="cropper-wrapper">
      <image-cropper
        [imageChangedEvent]="imageChangedEvent"
        [imageURL]="imageURL"
        [maintainAspectRatio]="true"
        [containWithinAspectRatio]="containWithinAspectRatio"
        [cropperMinWidth]="128"
        [aspectRatio]="aspectRatio"
        [onlyScaleDown]="true"
        [canvasRotation]="canvasRotation"
        [style.display]="showCropper ? null : 'none'"
        [allowMoveImage]="allowMoveImage"
        [hidden]="hidden"
        imageAltText="Alternative image text"
        backgroundColor="red"
        output="blob"
        format="png"
        (imageCropped)="imageCropped($event)"
        (imageLoaded)="imageLoaded()"
        (cropperReady)="cropperReady($event)"
        (loadImageFailed)="loadImageFailed()"
      ></image-cropper>
      <div *ngIf="loading" class="loader">Loading...</div>
      <div
        class="flex flex-column justify-content-center align-items-center mt-4 relative print-as-pdf"
      >
        <div class="relative">
          <button
            pButton
            pRipple
            label="Buy Now"
            (click)="op.toggle($event); setOrder()"
            class="p-button-primary w-full text-center mt-5 block"
          ></button>
        </div>
      </div>
    </div>
  </div>

  <div id="bt" *ngIf="selectedProduct.code == 'BT'" class="text-center mt-10">
    <div class="flex justify-content-end">
      <!-- <span (click)="generatePDF()"
        ><i
          class="mb-3 pi pi-download text-2xl text-color-secondary absolute cursor-pointer right-20 animate__animated animate__bounce animate__slower animate__infinite infinite"
        ></i
      ></span> -->
    </div>
    <div class="relative grid-center mt-8">
      <div class="cropped">
        <div>
          <img
            class="cropped-img"
            [src]="croppedImage"
            [style.border]="croppedImage ? '1px solid black' : 'none'"
          />
          <img
            class="final-view opacity-0"
            src="../../../../../assets/img/bottle/final_view.png"
            alt="mug"
          />
        </div>
      </div>
      @if(rotateMugDeg == 2) {
      <div class="left-view relative flex-1">
        <div #printAsPdfBottle>
          <div class="mask bottle">
            @if(croppedImage) {
            <img
              [src]="croppedImage"
              [style.border]="croppedImage ? '1px solid black' : 'none'"
            />
            }
          </div>
          <img
            class="mug-placeholder"
            src="..../../../../../assets/img/bottle/white_left.png"
            height="330"
          />
        </div>
      </div>
      } @if(rotateMugDeg == 1) {
      <div class="center-view relative flex-1">
        <div #printAsPdfBottle>
          <div class="mask bottle">
            @if(croppedImage) {
            <img
              [src]="croppedImage"
              [style.border]="croppedImage ? '1px solid black' : 'none'"
            />
            }
          </div>

          <img
            class="mug-placeholder"
            src=".../../../../../assets/img/bottle/white_center.png"
            height="330"
          />
        </div>
      </div>
      } @if(rotateMugDeg == 0) {
      <div class="right-view relative flex-1">
        <div #printAsPdfBottle>
          <div class="mask bottle">
            @if(croppedImage) {
            <img
              [src]="croppedImage"
              [style.border]="croppedImage ? '1px solid black' : 'none'"
            />
            }
          </div>
          <img
            class="mug-placeholder"
            src="../../../../../assets/img/bottle/{{ order.pcolor }}.png"
            height="330"
          />
        </div>
      </div>
      }

      <i
        class="mb-3 pi pi-sync text-2xl text-color-secondary absolute h-300 top-0 right-20 z-99"
        (click)="rotateMug()"
      ></i>
    </div>

    <div class="file-input-container mb-3 relative mt-3">
      <label for="file-upload" class="custom-file-upload"> Upload Photo </label>
      <input
        id="file-upload"
        type="file"
        accept="image/*"
        (change)="fileChangeEvent($event)"
      />
    </div>

    <div class="cropper-wrapper">
      <image-cropper
        [imageChangedEvent]="imageChangedEvent"
        [imageURL]="imageURL"
        [maintainAspectRatio]="true"
        [containWithinAspectRatio]="containWithinAspectRatio"
        [cropperMinWidth]="128"
        [aspectRatio]="aspectRatio"
        [onlyScaleDown]="true"
        [canvasRotation]="canvasRotation"
        [style.display]="showCropper ? null : 'none'"
        [allowMoveImage]="allowMoveImage"
        [hidden]="hidden"
        imageAltText="Alternative image text"
        backgroundColor="red"
        output="blob"
        format="png"
        (imageCropped)="imageCropped($event)"
        (imageLoaded)="imageLoaded()"
        (cropperReady)="cropperReady($event)"
        (loadImageFailed)="loadImageFailed()"
      ></image-cropper>
      <div *ngIf="loading" class="loader">Loading...</div>
      <div
        class="flex flex-column justify-content-center align-items-center mt-4 relative print-as-pdf"
      >
        <div class="relative">
          <button
            pButton
            pRipple
            label="Buy Now"
            (click)="op.toggle($event); setOrder()"
            class="p-button-primary w-full text-center mt-5 block"
          ></button>
        </div>
      </div>
    </div>
  </div>
  <div id="mp" *ngIf="selectedProduct.code == 'MP'" class="text-center mt-10">
    <div class="flex justify-content-end">
      <!-- <span (click)="generatePDF()"
        ><i
          class="mb-3 pi pi-download text-2xl text-color-secondary absolute cursor-pointer right-20 animate__animated animate__bounce animate__slower animate__infinite infinite"
        ></i
      ></span> -->
    </div>
    <div class="relative grid-center mt-8">
      <div class="cropped">
        <div>
          <img
            class="cropped-img"
            [src]="croppedImage"
            [style.border]="croppedImage ? '1px solid black' : 'none'"
          />
        </div>
      </div>
      <!-- @if(rotateMugDeg == 2) {
      <div class="left-view relative flex-1">
        <div class="mask bottle">
          <img
            [src]="croppedImage"
            [style.border]="croppedImage ? '1px solid black' : 'none'"
          />
        </div>
        <img
          class="mug-placeholder"
          src="..../../../../../assets/img/bottle/white_left.png"
          height="330"
        />
      </div>
      } @if(rotateMugDeg == 1) {
      <div class="center-view relative flex-1">
        <div class="mask bottle">
          <img
            [src]="croppedImage"
            [style.border]="croppedImage ? '1px solid black' : 'none'"
          />
        </div>

        <img
          class="mug-placeholder"
          src=".../../../../../assets/img/bottle/white_center.png"
          height="330"
        />
      </div>
      } @if(rotateMugDeg == 0) { -->
      <div #printAsPdfMouse>
        <div class="mask mp">
          @if(croppedImage) {
          <img
            [src]="croppedImage"
            [style.border]="croppedImage ? '1px solid black' : 'none'"
          />
          }
        </div>
        <img
          class="mug-placeholder"
          src="../../../../../assets/img/mousepad/white.png"
          height="330"
        />
      </div>
      <!-- } -->

      <!-- <i
        class="mb-3 pi pi-sync text-2xl text-color-secondary absolute h-300 top-0 right-20 z-99"
        (click)="rotateMug()"
      ></i> -->
    </div>

    <div class="file-input-container mb-3 relative mt-3">
      <label for="file-upload" class="custom-file-upload"> Upload Photo </label>
      <input
        id="file-upload"
        type="file"
        accept="image/*"
        (change)="fileChangeEvent($event)"
      />
    </div>

    <div class="cropper-wrapper">
      <image-cropper
        [imageChangedEvent]="imageChangedEvent"
        [imageURL]="imageURL"
        [maintainAspectRatio]="true"
        [containWithinAspectRatio]="containWithinAspectRatio"
        [cropperMinWidth]="128"
        [aspectRatio]="aspectRatio"
        [onlyScaleDown]="true"
        [canvasRotation]="canvasRotation"
        [style.display]="showCropper ? null : 'none'"
        [allowMoveImage]="allowMoveImage"
        [hidden]="hidden"
        imageAltText="Alternative image text"
        backgroundColor="red"
        output="blob"
        format="png"
        (imageCropped)="imageCropped($event)"
        (imageLoaded)="imageLoaded()"
        (cropperReady)="cropperReady($event)"
        (loadImageFailed)="loadImageFailed()"
      ></image-cropper>
      <div *ngIf="loading" class="loader">Loading...</div>
      <div
        class="flex flex-column justify-content-center align-items-center mt-4 relative print-as-pdf"
      >
        <div class="relative">
          <button
            pButton
            pRipple
            label="Buy Now"
            (click)="op.toggle($event); setOrder()"
            class="p-button-primary w-full text-center mt-5 block"
          ></button>
        </div>
      </div>
    </div>
  </div>
  <div id="cs" *ngIf="selectedProduct.code == 'CS'">Coming Soon</div>
</section>

<p-overlayPanel #op>
  <h3 class="mt-0">Pricing</h3>
  <div>
    <div class="flex gap-2 justify-content-between">
      <strong class="text-xs">Price</strong
      ><span class="text-xs">₹{{ pricing.price }}</span>
    </div>
    <div class="flex gap-2 justify-content-between">
      <strong class="text-xs">Discount({{ pricing.discount }}%)</strong
      ><span class="text-xs">₹{{ pricing.offerPrice }}</span>
    </div>
    <hr />
    <div class="flex gap-2 justify-content-between mb-4">
      <strong class="text-xs">Total pay</strong
      ><span class="text-xs">₹{{ pricing.offerPrice }}</span>
    </div>
  </div>

  <div>
    <h5 class="m-0">Order through</h5>
    <button
      pButton
      pRipple
      (click)="signIn()"
      label="SignIn"
      class="p-button-primary w-full text-center mt-2 block"
    ></button>
    <a
      pButton
      pRipple
      [href]="whatsapp"
      target="_blank"
      (click)="whatsApp()"
      label="Whatsapp"
      class="p-button-success w-full text-center mt-2 block no-underline"
    ></a>
  </div>
</p-overlayPanel>

<p-overlayPanel
  #settingsPanel
  [dismissable]="true"
  [appendTo]="'body'"
  [showCloseIcon]="true"
  styleClass="settings"
>
  <div class="flex flex-column">
    @if(selectedProduct.code == 'HD') {
    <div>
      <h5 class="my-1">Fabric Color</h5>
      <div class="flex gap-2">
        <div *ngFor="let hc of hColors">
          <div [ngClass]="hc == order.pcolor ? 'active' : 'default'">
            <span class="props" [ngClass]="hc" (click)="selectedTc(hc)"> </span>
          </div>
        </div>
      </div>
    </div>
    } @if(selectedProduct.code== 'TS') {
    <div>
      <h5 class="my-1">Fabric Color</h5>
      <div class="flex gap-2">
        <div *ngFor="let tc of tColors">
          <div [ngClass]="tc == order.pcolor ? 'active' : 'default'">
            <span class="props" [ngClass]="tc" (click)="selectedTc(tc)"> </span>
          </div>
        </div>
      </div>
    </div>
    }
    <div>
      <h5 class="my-1">Print Color</h5>
      <div class="flex gap-2">
        <div *ngFor="let pc of pbColors">
          <div [ngClass]="'p-' + pc == order.pattern ? 'active' : 'default'">
            <span class="props" [ngClass]="pc" (click)="selectedPc(pc)">
              <img
                *ngIf="pc == 'metalic' || pc == 'glitter'"
                src="../../../../../assets/img/ads/{{ pc }}.png"
                width="16"
                alt="pattern"
            /></span>
          </div>
        </div>
      </div>
    </div>
    <div>
      <h5 class="my-1">Fabric Size</h5>
      <div class="flex gap-2">
        <div *ngFor="let ts of tSizes">
          <div [ngClass]="ts == order.size ? 'active' : 'default'">
            <span class="props" [ngClass]="ts" (click)="selectedTs(ts)">
              {{ ts }}
            </span>
          </div>
        </div>
      </div>
      <div class="font-options">
        <p-dropdown
          [options]="fonts"
          [(ngModel)]="selectedFont"
          optionLabel="name"
          placeholder="Select Font"
          styleClass="w-full"
          [autoOptionFocus]="false"
          (onChange)="chooseFont($event)"
        />
      </div>
      <div class="flex gap-2">
        <div class="font-options">
          <p-dropdown
            [options]="fontsizeOptions"
            [(ngModel)]="selectedFontSize"
            optionLabel="name"
            placeholder="Select Font Size"
            styleClass="w-full"
            [autoOptionFocus]="false"
            (onChange)="chooseFontSize($event)"
          />
        </div>
        <div class="font-options">
          <p-dropdown
            [options]="letterSpaceOptions"
            [(ngModel)]="selectedLetterSpace"
            optionLabel="name"
            placeholder="Select Letter Space"
            styleClass="w-full"
            [autoOptionFocus]="false"
            (onChange)="chooseLetterSpace($event)"
          />
        </div>
      </div>

      <div class="guidelines">
        <div (click)="toggleGuidelines()" class="text-1 underline">
          Guidelines
        </div>

        @if(showGuidelines) {
        <div class="mt-3">
          <em class="text-xs"
            ><strong>Note:</strong> Sizes may rarely vary in the range of +/-
            0.5 inches.</em
          >
          <p-table [value]="products" class=" ">
            <ng-template pTemplate="header">
              <tr>
                <th>Inches</th>
                <th>XS</th>
                <th>S</th>
                <th>M</th>
                <th>L</th>
                <th>XL</th>
                <th>XXL</th>
                <th>XXXL</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-product>
              <tr>
                <td>{{ product.inch }}</td>
                <td>{{ product.xs }}</td>
                <td>{{ product.s }}</td>
                <td>{{ product.m }}</td>
                <td>{{ product.l }}</td>
                <td>{{ product.xl }}</td>
                <td>{{ product.xxl }}</td>
                <td>{{ product.xxxl }}</td>
              </tr>
            </ng-template>
          </p-table>
        </div>
        }
      </div>
    </div>
  </div>
</p-overlayPanel>
<p-overlayPanel
  #templatePanel
  [dismissable]="true"
  [appendTo]="'body'"
  [showCloseIcon]="true"
  styleClass="settings"
>
  <div style="height: 300px" class="scrollable">
    <div
      *ngFor="let t of templates"
      (click)="selectTemplate(t)"
      class="border-yellow"
    >
      <img src="{{ t.url }}" alt="template" width="100" />
    </div>
  </div>
</p-overlayPanel>

<p-overlayPanel
  #editPanel
  [dismissable]="true"
  [appendTo]="'body'"
  [showCloseIcon]="true"
  styleClass="settings"
>
  <div class="scrollable">
    <div *ngFor="let t of selectedTemplate.data">
      @if(t.type=="1" || t.type=="3") {
      <textarea [(ngModel)]="order.text1"></textarea>
      } @if(t.type=="2") {
      <textarea [(ngModel)]="order.text2"></textarea>
      }
    </div>
  </div>
</p-overlayPanel>
